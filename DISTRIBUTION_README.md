# MarkNResoniteHeadlessController

ResoniteヘッドレスサーバーをブラウザUIから管理するためのツールです。

## 使用方法

### 初回セットアップ

1. 配布されたZipを任意のディレクトリに展開します
2. `scripts/setup.bat` を実行し、依存関係のインストールと設定ファイル生成を行います（Node.js 20以上が必要）
3. `scripts/start-production.bat` を実行してバックエンドを起動します
4. ブラウザで **http://localhost:8080** にアクセスし、デフォルトパスワード **admin123** でログイン
5. セキュリティ確保のため、初回ログイン後にパスワードや許可IPを変更してください

### 通常起動

1. `scripts/start-production.bat` を実行
2. ブラウザで **http://localhost:8080** にアクセス
3. 設定した認証情報でログイン

## 設定ファイル

初回セットアップまたは起動時に以下の設定ファイルが自動生成されます：

- `config/auth.json` - 認証設定
- `config/security.json` - セキュリティ設定
- `config/runtime-state.json` - ランタイム状態
- `config/restart.json` - 再起動設定
- `config/restart-status.json` - 再起動ステータス

## トラブルシューティング

### アプリケーションが起動しない

- **原因**: ポート8080が使用中
- **解決**: 他のアプリケーションを終了するか、環境変数`PORT`でポートを変更

### Web UIにアクセスできない

- **原因**: ファイアウォールの設定
- **解決**: ポート8080をファイアウォールで許可

### 設定ファイルが読み込めない

- **原因**: 設定ファイルの破損
- **解決**: 該当する設定ファイルを削除して再起動（自動再生成される）

## アップデート

1. 現在のアプリケーションを停止
2. 新しいZipアーカイブをダウンロード
3. 既存ディレクトリに上書き展開するか、設定ファイルのみ残して置き換え
4. 必要に応じて `npm install --omit=dev` を実行し依存関係を更新
5. `scripts/start-production.bat` で再起動

**注意**: `config/` 配下のユーザー設定ファイルと `.env` は上書きしないでください。

## サポート

詳細な情報は `DISTRIBUTION_REQUIREMENTS.md` を参照してください。
